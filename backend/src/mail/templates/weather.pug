doctype html
html(lang="en")
  head
    meta(http-equiv="Content-Type" content="text/html; charset=utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Weather Update
    style(type="text/css").
      body, table, td, a {
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
      }

      table, td {
        mso-table-lspace: 0;
        mso-table-rspace: 0;
      }

      img {
        -ms-interpolation-mode: bicubic;
        border: 0;
        height: auto;
        line-height: 100%;
        outline: none;
        text-decoration: none;
      }
  body(style="margin: 0; padding: 0; font-family: Arial, sans-serif; color: #000000; background-color: #ffffff;")
    <!--[if (gte mso 9)|(IE)]>
    <table width="600" align="center" cellpadding="0" cellspacing="0" border="0">
    <tr>
    <td>
    <![endif]-->
    table(width="100%" border="0" cellspacing="0" cellpadding="0" style="max-width: 600px; margin: 0 auto;")
      tr
        td(align="center" style="padding: 20px 0;")
          table(width="100%" border="0" cellspacing="0" cellpadding="0")
            tr
              td(style="padding: 20px;")
                h1(style="margin: 0; font-size: 24px; font-weight: 700; color: #000000;")= weather.location.name + " (" + weather.location.country + ")"

      tr
        td(align="center" style="padding: 0 20px 20px;")
          table(width="100%" border="0" cellspacing="0" cellpadding="0" style="background-color: #ffffff; border: 1px solid #002049; border-radius: 15px;")
            tr
              td(style="padding: 20px;")
                table(width="100%" border="0" cellspacing="0" cellpadding="0")
                  tr
                    td(style="padding-top: 10px;")
                      table(width="100%" border="0" cellspacing="0" cellpadding="0")
                        tr
                          td(style="vertical-align: middle;")
                            span(style="font-size: 30px; font-weight: 700;")= weather.forecast.forecastday[0].day.avgtemp_c.toString() + "°C"
                    td(align="right" style="padding-bottom: 10px;")
                      p(style="margin: 0; font-size: 16px; font-weight: 700; color: #000000;") Weather
                      p(style="margin: 0; color: #043457;")= new Date(weather.forecast.forecastday[0].date).toLocaleDateString('en-US', { weekday: 'long' })
                      p(style="margin: 0; color: #043457;")= weather.forecast.forecastday[0].day.condition.text

      tr
        td(align="center" style="padding: 0 20px 20px;")
          div(style="width: 100%; overflow-x: auto;")
            table(width="100%" border="0" cellspacing="0" cellpadding="0" style="min-width: 500px; border-collapse: collapse;")
              tr
                th(style="padding: 10px; text-align: left; font-weight: normal;") Time
                each hour, index in weather.forecast.forecastday[0].hour
                  th(style="padding: 10px; text-align: center; background-color: " + (index % 2 === 0 ? '#c6e0ff' : 'transparent') + ";")
                    div(style="display: flex; flex-direction: column; align-items: center;")
                      div= hour.time.split(' ')[1]
              tr
                td(style="padding: 10px;") Temperature
                each hour, index in weather.forecast.forecastday[0].hour
                  td(style="padding: 10px; text-align: center; background-color: " + (index % 2 === 0 ? '#c6e0ff' : 'transparent') + ";")= hour.temp_c.toString() + "°C"
              tr
                td(style="padding: 10px;") Humidity
                each hour, index in weather.forecast.forecastday[0].hour
                  td(style="padding: 10px; text-align: center; background-color: " + (index % 2 === 0 ? '#c6e0ff' : 'transparent') + ";")= hour.humidity.toString() + "%"
              tr
                td(style="padding: 10px;") Wind
                each hour, index in weather.forecast.forecastday[0].hour
                  td(style="padding: 10px; text-align: center; background-color: " + (index % 2 === 0 ? '#c6e0ff' : 'transparent') + ";")= hour.wind_kph.toString() + " km/h"

      tr
        td(align="center" style="padding: 20px;")
          a(href=unsubscribeUrl style="display: inline-block; padding: 10px 15px; background-color: #d1e6ff; color: #000000; text-decoration: none; border: 1px solid #002049; border-radius: 15px; font-weight: 700;") Unsubscribe from weather updates
    <!--[if (gte mso 9)|(IE)]>
    </td>
    </tr>
    </table>
    <![endif]-->